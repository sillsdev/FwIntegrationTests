#!/usr/bin/expect -f
#
# This Expect script was generated by autoexpect on Wed Jun 17 18:52:45 2015
# Expect and autoexpect were both written by Don Libes, NIST.
#
# Note that autoexpect does not guarantee a working script.  It
# necessarily has to guess about certain things.  Two reasons a script
# might fail are:
#
# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,
# etc.) and devices discard or ignore keystrokes that arrive "too
# quickly" after prompts.  If you find your new script hanging up at
# one spot, try adding a short sleep just before the previous send.
# Setting "force_conservative" to 1 (see below) makes Expect do this
# automatically - pausing briefly before sending each character.  This
# pacifies every program I know of.  The -c flag makes the script do
# this in the first place.  The -C flag allows you to define a
# character to toggle this mode off and on.

set force_conservative 0  ;# set to 1 to force conservative mode even if
			  ;# script wasn't run conservatively originally
if {$force_conservative} {
	set send_slow {1 .1}
	proc send {ignore arg} {
		sleep .1
		exp_send -s -- $arg
	}
}

#
# 2) differing output - Some programs produce different output each time
# they run.  The "date" command is an obvious example.  Another is
# ftp, if it produces throughput statistics at the end of a file
# transfer.  If this causes a problem, delete these patterns or replace
# them with wildcards.  An alternative is to use the -p flag (for
# "prompt") which makes Expect only look for the last line of output
# (i.e., the prompt).  The -P flag allows you to define a character to
# toggle this mode off and on.
#
# Read the man page for more info.
#
# -Don


set timeout -1
spawn dpkg-reconfigure debconf
match_max 100000
expect -exact "\[?1049h\[1;24r\[4l\[?25l(B\[m\[37m\[40m\[1;24r\[H\[2J\[1;1H\[1m\[37m\[45m                                                                                \[2;1H                                                                                \[3;1H                                                                                \[4;1H                                                                                \[5;1H                                                                                \[6;1H                                                                                \[7;1H                                                                                \[8;1H                                                                                \[9;1H                                                                                \[10;1H                                                                                \[11;1H                                                                                \[12;1H                                                                                \[13;1H                                                                                \[14;1H                                                                                \[15;1H                                                                                \[16;1H                                                                                \[17;1H                                                                                \[18;1H                                                                                \[19;1H                                                                                \[20;1H                                                                                \[21;1H                                                                                \[22;1H                                                                                \[23;1H                                                                                \[24;1H                                                                               \[24;79H \[4h \[4l\[1;1H(B\[m\[37m\[45mPackage configuration\[3;2H(0\[30m\[47mlqqqqqqqqqqqqqqqqqqqqqqqqqqu(B\[m(B\[30m\[47m \[31mConfiguring debconf\[30m (0\[30m\[47mtqqqqqqqqqqqqqqqqqqqqqqqqqqk\[4;2Hx(B\[m(B\[30m\[47m Packages that use debconf for configuration share a common look and       (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[5;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m feel. You can select the type of user interface they use.                 (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[6;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[7;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m The dialog frontend is a full-screen, character based interface, while    (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[8;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m the readline frontend uses a more traditional plain text interface, and   (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[9;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m both the gnome and kde frontends are modern X interfaces, fitting the     (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[10;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m respective desktops (but may be used in any X environment). The editor    (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[11;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m frontend lets you configure things using your favorite text editor. The   (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[12;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m noninteractive frontend never asks you any questions.                     (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[13;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[14;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m Interface to use:                                                         (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[15;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[16;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                             \[37m\[41mDialog          \[30m\[47m  (0\[30m\[47m (B\[m(B\[30m\[47m                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[17;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                             Readline          (0\[30m\[47m (B\[m(B\[30m\[47m                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[18;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[19;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[20;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                    <Ok>                        <Cancel>                   (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[21;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[22;2H(B\[m(0\[30m\[47mmqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqj(B\[m(B\[1m\[37m\[40m \[23;3H                                                                             \[16;32H"
send -- "\[B"
expect -exact "(B\[m\[30m\[47mDialog          \[17;32H\[37m\[41mReadline        \[17;32H"
send -- "\r"
expect -exact "\[?12l\[?25h\[24;1H\[40m(B\[m\[39;49m\r\[K\r\[?1049l\[?1049h\[1;24r\[4l\[?25l(B\[m\[37m\[40m\[1;24r\[H\[2J\[1;1H\[1m\[37m\[45m                                                                                \[2;1H                                                                                \[3;1H                                                                                \[4;1H                                                                                \[5;1H                                                                                \[6;1H                                                                                \[7;1H                                                                                \[8;1H                                                                                \[9;1H                                                                                \[10;1H                                                                                \[11;1H                                                                                \[12;1H                                                                                \[13;1H                                                                                \[14;1H                                                                                \[15;1H                                                                                \[16;1H                                                                                \[17;1H                                                                                \[18;1H                                                                                \[19;1H                                                                                \[20;1H                                                                                \[21;1H                                                                                \[22;1H                                                                                \[23;1H                                                                                \[24;1H                                                                               \[24;79H \[4h \[4l\[1;1H(B\[m\[37m\[45mPackage configuration\[4;2H(0\[30m\[47mlqqqqqqqqqqqqqqqqqqqqqqqqqqu(B\[m(B\[30m\[47m \[31mConfiguring debconf\[30m (0\[30m\[47mtqqqqqqqqqqqqqqqqqqqqqqqqqqk\[5;2Hx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[6;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m Debconf prioritizes the questions it asks you. Pick the lowest priority   (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[7;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m of question you want to see:                                              (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[8;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m   - 'critical' only prompts you if the system might break.                (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[9;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m     Pick it if you are a newbie, or in a hurry.                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[10;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m   - 'high' is for rather important questions                              (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[11;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m   - 'medium' is for normal questions                                      (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[12;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m   - 'low' is for control freaks who want to see everything                (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[13;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[14;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[15;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m Note that no matter what level you pick here, you will be able to see     (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[16;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m every question if you reconfigure a package with dpkg-reconfigure.        (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[17;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[18;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                  \[37m\[41m<Ok>\[30m\[47m                                     (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[19;2H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                                                           (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[20;2H(B\[m(0\[30m\[47mmqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqj(B\[m(B\[1m\[37m\[40m \[21;3H                                                                             \[18;38H"
send -- "\r"
expect -exact "\[?12l\[?25h\[24;1H(B\[m\[37m\[40m(B\[m\[39;49m\r\[K\r\[?1049l\[?1049h\[1;24r\[4l\[?25l(B\[m\[37m\[40m\[1;24r\[H\[2J\[1;1H\[1m\[37m\[45m                                                                                \[2;1H                                                                                \[3;1H                                                                                \[4;1H                                                                                \[5;1H                                                                                \[6;1H                                                                                \[7;1H                                                                                \[8;1H                                                                                \[9;1H                                                                                \[10;1H                                                                                \[11;1H                                                                                \[12;1H                                                                                \[13;1H                                                                                \[14;1H                                                                                \[15;1H                                                                                \[16;1H                                                                                \[17;1H                                                                                \[18;1H                                                                                \[19;1H                                                                                \[20;1H                                                                                \[21;1H                                                                                \[22;1H                                                                                \[23;1H                                                                                \[24;1H                                                                               \[24;79H \[4h \[4l\[1;1H(B\[m\[37m\[45mPackage configuration\[7;17H(0\[30m\[47mlqqqqqqqqqqqu(B\[m(B\[30m\[47m \[31mConfiguring debconf\[30m (0\[30m\[47mtqqqqqqqqqqqqk\[8;17Hx(B\[m(B\[30m\[47m Ignore questions with a priority less than:  (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[9;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                              (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[10;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                   critical                   (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[11;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                   \[37m\[41mhigh    \[30m\[47m                   (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[12;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                   medium                     (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[13;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                   low                        (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[14;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                              (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[15;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                              (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[16;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m          <Ok>              <Cancel>          (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[17;17H(B\[m(0\[30m\[47mx(B\[m(B\[30m\[47m                                              (0\[30m\[47mx(B\[m(B\[1m\[37m\[40m \[18;17H(B\[m(0\[30m\[47mmqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqj(B\[m(B\[1m\[37m\[40m \[19;18H                                                \[11;37H"
send -- "\[A"
expect -exact "\[A(B\[m\[37m\[41mcritical\[11;37H\[30m\[47mhigh    \[10;37H"
send -- "\r"
expect eof
